[git]
private-commits = "description(glob:'wip:*')"

[aliases]
l = ["log"]
gp = ["git", "push"]
gf = ["git", "fetch"]
gfa = ["git", "fetch", "--all-remotes"]
up = ["rebase", "--skip-emptied", "--source", "all:roots(trunk()..@)", "--destination", "trunk()"]
wc = ["edit", "working-copy"]

[revsets]
log = "trunk()..@" 

[ui]
default-command = "log"
diff.format = "git"

[user]
name = "pylbrecht"
email = "pylbrecht@mailbox.org"

[core]
fsmonitor = "watchman"

[templates]
draft_commit_description = '''
concat(
  description,
  surround(
    "\nJJ: This commit contains the following changes:\n", "",
    indent("JJ:     ", diff.summary()),
  ),
  surround(
    "\nJJ: This commit contains the following changes:\n", "",
    indent("JJ:     ", diff.stat(72)),
  ),
  "\n",
  "JJ: ignore-rest\n",
  diff.git(),
)
'''
